/* tail.DateTime 0.4.2 @ https://github.com/pytesNET/tail.select */
!function(e){"function"==typeof define&&define.amd?define(e):(void 0===window.tail&&(window.tail={}),window.tail.select=e(),"undefined"!=typeof jQuery&&(jQuery.fn.tailselect=function(e){var t,i=[];return this.each(function(){!1!==(t=tail.select(this,e))&&i.push(t)}),1===i.length?i[0]:0!==i.length&&i}),"undefined"!=typeof MooTools&&Element.implement({tailselect:function(e){return new tail.select(this,e)}}))}(function(){"use strict";var c=window,u=window.document,h={hasClass:function(e,t){return new RegExp("(|s+)"+t+"(s+|)").test(e.className||"")},addClass:function(e,t){return"className"in e&&!new RegExp("(|s+)"+t+"(s+|)").test(e.className)&&(e.className=(e.className.trim()+" "+t.trim()).trim()),e},removeClass:function(e,t){var i=new RegExp("(|s+)("+t+")(s+|)");return"className"in e&&i.test(e.className)&&(e.className=e.className.replace(i,"$1$3").trim()),e},trigger:function(e,t,i){if(CustomEvent&&CustomEvent.name)var s=new CustomEvent(t,i);else(s=u.createEvent("CustomEvent")).initCustomEvent(t,!!i.bubbles,!!i.cancelable,i.detail);return e.dispatchEvent(s)},clone:function(e,t){if(t="object"==typeof t?t:{},Object.assign)return Object.assign({},e,t);var i=e.constructor();for(var s in e)i[s]=s in t?t[s]:e[s];return i},animate:function(e,t,i,s){if(e.hasAttribute("data-tail-animation")){if(!s)return;clearInterval(h.animation[e.getAttribute("data-tail-animation")])}e.setAttribute("data-tail-animation","tail-"+ ++this.animationCounter),function(t,i,e){var s=this;this.animation["tail-"+this.animationCounter]=setInterval(function(){var e=t.getAttribute("data-tail-animation");!1===i.call(t,t)&&(clearInterval(s.animation[e]),t.parentElement&&t.removeAttribute("data-tail-animation"))},e)}.call(this,e,t,i)},animation:{},animationCounter:0},l=function(e,t){if("string"==typeof e&&(e=u.querySelectorAll(e)),e instanceof NodeList||e instanceof HTMLCollection||e instanceof Array){for(var i=[],s=e.length,n=0;n<s;n++)i.push(new l(e[n],t));return 1===i.length?i[0]:0!==i.length&&i}return!(!e.tagName||"SELECT"!=e.tagName)&&(void 0!==this&&this.init?l.inst[e.getAttribute("data-tail-select")]?l.inst[e.getAttribute("data-tail-select")]:(t="object"==typeof t?t:{},e.hasAttribute("multiple")&&(t.multiple=e.multiple),e.hasAttribute("placeholder")?t.placeholder=e.placeholder:e.hasAttribute("data-placeholder")&&(t.placeholder=e.getAttribute("data-placeholder")),t.width&&"auto"===t.width&&(t.width=e.offsetWidth+30),this.e=e,this.id=++l.count,this.con=h.clone(l.defaults,t),(l.inst["tail-"+this.id]=this).init()):new l(e,t))};l.version="0.4.2",l.status="beta",l.count=0,l.inst={};var n=function(e,t){return void 0!==this&&this.init?(this.self=t,this.select=e,this):new n(e,t)};l.defaults={width:null,height:350,classNames:null,placeholder:null,deselect:!1,animate:!0,openAbove:null,stayOpen:!1,startOpen:!1,multiple:!1,multiLimit:-1,multiShowCount:!0,multiContainer:!1,multiSelectAll:!1,multiSelectGroup:!0,descriptions:!1,items:{},sortItems:!1,sortGroups:!1,search:!1,searchFocus:!0,searchMarked:!0,csvOutput:!1,csvSeparator:",",hideSelect:!0,hideSelected:!1,hideDisabled:!1,bindSourceSelect:!1,cbLoopItem:void 0,cbLoopGroup:void 0},l.strings={all:"All",none:"None",actionAll:"Select All",actionNone:"Unselect All",empty:"No Options available",emptySearch:"No Options found",limit:"You can't select more Options",placeholder:"Select an Option...",placeholderMulti:"Select up to :limit Options...",search:"Type in to search..."};var p=function(e){return e in l.strings?l.strings[e]:e};return l.prototype={e:null,id:0,con:{},events:{},options:{},select:null,label:null,dropdown:null,search:null,container:null,csvInput:null,init:function(){var t=this,e=new Array("tail-select");this.events={};var i=!0===this.con.classNames?this.e.className:this.con.classNames;("string"==typeof i||i instanceof Array)&&e.push(i instanceof Array?i.join(" "):i),t.con.hideSelected&&e.push("hide-selected"),t.con.hideDisabled&&e.push("hide-disabled"),t.con.multiple&&e.push("multiple"),t.con.deselect&&e.push("deselect");for(var s in this.select=u.createElement("DIV"),this.select.innerHTML='<div class="tail-select-label"><span class="tail-label-count">0</span><span class="tail-label-inner"></span></div><div class="tail-select-dropdown"><div class="tail-dropdown-search"><input type="text" class="tail-search-input" placeholder="" /></div><div class="tail-dropdown-inner"></div></div><input type="hidden" name="" value="" />',this.select.className=e.join(" "),isNaN(parseInt(this.con.width,10))||(this.select.style.width=parseInt(this.con.width,10)+"px"),this.label=this.select.querySelector(".tail-select-label"),this.label.addEventListener("click",function(e){t.toggle.call(t)}),(!this.con.multiple||this.con.multiple&&!this.con.multiShowCount)&&this.label.removeChild(this.label.querySelector(".tail-label-count")),this.dropdown=this.select.querySelector(".tail-select-dropdown"),isNaN(parseInt(this.con.width,10))||(this.dropdown.style.width=parseInt(this.con.width,10)+"px"),isNaN(parseInt(this.con.height,10))||(this.dropdown.style.maxHeight=parseInt(this.con.height,10)+"px"),this.search=this.dropdown.querySelector(".tail-dropdown-search"),this.search.querySelector("input").setAttribute("placeholder",p("search")),this.search.querySelector("input").addEventListener("input",function(e){h[(2<this.value.length?"add":"remove")+"Class"](t.select,"in-search"),t.build.call(t,2<this.value.length?this.value:void 0,t.con.cbLoopItem,t.con.cbLoopGroup)}),this.con.search||this.dropdown.removeChild(this.search),this.csvInput=this.select.querySelector("input[type='hidden']"),this.csvInput.name=this.e.getAttribute("name")||this.id,this.csvInput||this.select.removeChild(this.csvInput),this.con.multiple&&u.querySelector(this.con.multiContainer)&&(this.container=u.querySelector(this.con.multiContainer),this.container.className+=" tail-select-container"),this.options=new n(this.e,t).init(),this.con.items)"string"==typeof this.con.items[s]&&(this.con.items[s]={value:this.con.items[s]}),this.options.add(s,this.con.items[s].value,this.con.items[s].group,this.con.items[s].selected,this.con.items[s].disabled,this.con.items[s].description);return this.build(null,this.con.cbLoopItem,this.con.cbLoopGroup),this.bind(!1),this.e.parentElement.insertBefore(this.select,this.e),this.e.setAttribute("data-tail-select","tail-"+this.id),this.con.hideSelect&&(this.e.style.display="none"),t.con.startOpen&&this.open(),this},build:function(e,t,i){e="string"==typeof e&&e;var s=u.createElement("UL");s.className="tail-dropdown",s.setAttribute("data-group","#");for(var n,l,a,o,r=this,c=s,h=e?"finder":"walker",d=e?[e]:[this.con.sortItems,this.con.sortGroups];n=this.options[h].apply(this.options,d);)n.group!=c.getAttribute("data-group")&&((c=(i||this.createGroup).call(this,n.group,e)).setAttribute("data-group",n.group),s.appendChild(c)),(l=(t||this.createItem).call(this,n,c,e)).setAttribute("data-key",n.key),l.setAttribute("data-group",n.group),l.addEventListener("click",function(e){r.bind.call(r,e,this)}),c.appendChild(l),n.selected&&this.setContainer(n,"select");return 0==s.querySelectorAll("*[data-key]").length?((l=u.createElement("LI")).innerText=p("empty"),l.className="tail-dropdown-empty",s.appendChild(l)):this.con.multiple&&this.con.multiLimit<0&&this.con.multiSelectAll&&(a=u.createElement("BUTTON"),o=u.createElement("BUTTON"),a.innerText=p("actionAll"),a.className="tail-all",a.addEventListener("click",function(e){e.preventDefault();for(var t=this.parentElement.parentElement.querySelectorAll("*[data-key]"),i=t.length,s=0;s<i;s++)r.choose.call(r,"select",t[s].getAttribute("data-key"),t[s].getAttribute("data-group"))}),o.innerText=p("actionNone"),o.className="tail-none",o.addEventListener("click",function(e){e.preventDefault();for(var t=this.parentElement.parentElement.querySelectorAll("*[data-key]"),i=t.length,s=0;s<i;s++)r.choose.call(r,"unselect",t[s].getAttribute("data-key"),t[s].getAttribute("data-group"))}),(l=u.createElement("LI")).className="tail-dropdown-action",l.appendChild(a),l.appendChild(o),s.insertBefore(l,s.children[0])),this.dropdown.querySelector(".tail-dropdown-inner").innerHTML="",this.dropdown.querySelector(".tail-dropdown-inner").appendChild(s),this.setCSVInput().setCounter().setLabel(),this},bind:function(e,t){if(!1!==e){if(!t.hasAttribute("data-key"))return!1;var i=t.getAttribute("data-key"),s=t.getAttribute("data-group")||"#";return!!this.choose("toggle",i,s)&&(!(!this.con.stayOpen&&!this.con.multiple)||this.close())}var o=this;return u.addEventListener("click",function(e){if(!h.hasClass(o.select,"active")||h.hasClass(o.select,"idle"))return!1;if(o.con.stayOpen)return!1;for(var t=[o.e,o.select,o.container],i=t.length,s=0;s<i;s++){if(t[s]&&(t[s].contains(e.target)||t[s]==e.target))return!1;if(!e.target.parentElement)return!1}return o.close.call(o)}),this.con.bindSourceSelect&&this.e.addEventListener("change",function(e){var t=function(e,t){var i,s,n,l,a=o.options.selected.slice(0);for(s=e.length,i=0;i<s;i++)n=e[i],null!=(l=o.options.get(n.value||n.innerText,"OPTGROUP"===n.parentElement.tagName?n.parentElement.label:"#"))&&(o.options.is("selected",l)||o.options.handle("select",l),0<=a.indexOf(n)&&a.splice(a.indexOf(n),1));for(i in a)o.options.handle("unselect",a[i])};if(!this.multiple&&this.selectedIndex)o.choose("select",this.options[this.selectedIndex]);else if(this.selectedOptions)t(this.selectedOptions);else{for(var i=[],s=this.options.length,n=0;n<s;n++)this.options[n].selected&&i.push(this.options[n]);t(i)}}),!0},callback:function(e,t){if("rebuild"==t)return this.build();var i=this.dropdown.querySelector("[data-key='"+e.key+"'][data-group='"+e.group+"']");return i&&("select"==t?h.addClass(i,"selected"):"unselect"==t?h.removeClass(i,"selected"):"disable"==t?h.addClass(i,"disabled"):"enable"==t&&h.removeClass(i,"disabled")),this.setLabel().setCounter().setContainer(e,t).setCSVInput(),this.trigger("change",e,t),!0},trigger:function(e){h.trigger(this.select,"tail.select::"+e,{bubbles:!1,cancelable:!0,detail:{args:arguments,self:this}});for(var t=(this.events[e]||[]).length,i=0;i<t;i++)this.events[e][i].cb.apply(this,function(e,t,i){for(var s=t.length,n=0;n<s;++n)e[n-1]=t[n];return e[n]=i,e}(new Array(arguments.length),arguments,this.events[e][i].args))},createGroup:function(e,t){var i=u.createElement("UL"),n=this;if(i.className="tail-dropdown-optgroup",i.innerHTML='<li class="tail-optgroup-title"><b>'+e+"</b></li>",this.con.multiple&&this.con.multiLimit<0&&this.con.multiSelectGroup){var s=u.createElement("BUTTON"),l=u.createElement("BUTTON");s.innerText=p("none"),s.className="tail-none",s.addEventListener("click",function(e){e.preventDefault();for(var t=this.parentElement.parentElement.querySelectorAll("*[data-key]"),i=t.length,s=0;s<i;s++)n.choose.call(n,"unselect",t[s].getAttribute("data-key"),t[s].getAttribute("data-group"))}),l.innerText=p("all"),l.className="tail-all",l.addEventListener("click",function(e){e.preventDefault();for(var t=this.parentElement.parentElement.querySelectorAll("*[data-key]"),i=t.length,s=0;s<i;s++)n.choose.call(n,"select",t[s].getAttribute("data-key"),t[s].getAttribute("data-group"))}),i.children[0].appendChild(s),i.children[0].appendChild(l)}return i},createItem:function(e,t,i){var s=u.createElement("LI");return s.className="tail-dropdown-option"+(e.selected?" selected":"")+(e.disabled?" disabled":""),i&&0<i.length&&this.con.searchMarked?s.innerHTML=e.value.replace(new RegExp("("+i+")","i"),"<mark>$1</mark>"):s.innerText=e.value,this.con.descriptions&&e.description&&(s.innerHTML+='<span class="tail-option-description">'+e.description+"</span>"),s},setLabel:function(e){return"string"!=typeof e&&(e=0==this.dropdown.querySelectorAll("*[data-key]").length?"empty"+(h.hasClass(this.select,"in-search")?"Search":""):0<=this.con.multiLimit&&this.con.multiLimit<=this.options.selected.length?"limit":this.con.multiple?"string"==typeof this.con.placeholder&&0<this.con.placeholder.length?this.con.placeholder:"placeholder"+(this.con.multiple&&0<=this.con.multiLimit?"Multi":""):0==this.options.selected.length?"placeholder":this.options.selected[0].innerText),e=p(e).replace(":limit",this.con.multiLimit),this.label.querySelector(".tail-label-inner").innerText=e,this},setCounter:function(e){return this.label.querySelector(".tail-label-count")&&(e=null==e?(this.options.selected||[]).length:e,this.label.querySelector(".tail-label-count").innerText=e),this},setContainer:function(e,t){if(this.container){var i,s=this,n=u.createElement("DIV");"select"==t?(n.innerText=e.value,n.className="tail-select-handle",n.setAttribute("data-key",e.key),n.setAttribute("data-group",e.group),n.addEventListener("click",function(e){e.preventDefault(),s.choose.call(s,"unselect",this.getAttribute("data-key"),this.getAttribute("data-group"))}),this.container.appendChild(n)):(i="[data-group='"+e.group+"'][data-key='"+e.key+"']",(n=this.container.querySelector(i))&&n.parentElement.removeChild(n))}return this},setCSVInput:function(){if(this.csvInput&&this.con.csvOutput&&0<=["select","unselect"].indexOf(state)){for(var e=[],t=this.options.selected.length,i=0;i<t;i++)e.push(this.options.selected[i].value);this.csvInput.value=e.join(this.con.csvSeparator||",")}return this},choose:function(e,t,i){if(t instanceof Array){for(var s in t)this.choose(e,t[s][0],t[s][1]||"#");return this}return"enable"==e||"disable"==e||"toggle"==e&&(e=this.options.is("select",t,i)?"unselect":"select"),this.options.handle(e,t,i)},open:function(e){if(h.hasClass(this.select,"active")||h.hasClass(this.select,"idle"))return!1;var t=this.dropdown.cloneNode(!0);t.style.cssText="height:auto;opacity:0;display:block;visibility:hidden;",t.style.maxHeight=this.con.height+"px",t.className+=" cloned",this.dropdown.parentElement.appendChild(t);var i=this.con.height,s=0;i=i>t.clientHeight?t.clientHeight:i,this.con.search&&(s=t.querySelector(".tail-dropdown-search").clientHeight),this.dropdown.parentElement.removeChild(t);var n=this.select.getBoundingClientRect(),l=c.innerHeight-(n.top+n.height),a=l<i+s&&n.top>l;!0===this.con.openAbove||!1!==this.con.openAbove&&a?(a=!0,i=Math.min(i,n.top-10),h.addClass(this.select,"open-top")):(a=!1,i=Math.min(i,l-10),h.removeClass(this.select,"open-top")),this.dropdown.style.maxHeight=i+"px",this.dropdown.querySelector(".tail-dropdown-inner").style.maxHeight=i-s-2+"px";var o=function(){h.addClass(h.removeClass(r.select,"idle"),"active"),this.dropdown.style.height="auto",this.label.removeAttribute("style"),this.con.search&&this.con.searchFocus&&this.dropdown.querySelector("input").focus(),this.trigger.call(this,"open")},r=this;return this.con.animate&&!1!==e?(this.label.style.zIndex=25,this.dropdown.style.cssText+="height:0;display:block;overflow:hidden;",h.addClass(r.select,"idle"),h.animate(this.dropdown,function(){var e=parseInt(this.style.height,10),t=parseInt(this.style.maxHeight,10);return e<t?(this.style.height=(t<e+50?t:e+50)+"px",!0):(o.call(r),!1)})):o.call(this),this},close:function(e){if(!h.hasClass(this.select,"active")||h.hasClass(this.select,"idle"))return!1;var t=function(){h.removeClass(h.removeClass(this.select,"idle"),"active"),this.dropdown.removeAttribute("style"),this.dropdown.querySelector(".tail-dropdown-inner").removeAttribute("style"),this.trigger.call(this,"close")},i=this;return this.con.animate&&!1!==e?(h.addClass(this.select,"idle"),h.animate(this.dropdown,function(){return 0<parseInt(this.offsetHeight,10)-50?(this.style.height=parseInt(this.offsetHeight,10)-50+"px",!0):(t.call(i),!1)},1,!0)):t.call(this),this},toggle:function(e){return!h.hasClass(this.select,"idle")&&(h.hasClass(this.select,"active")?this.close(e):this.open(e))},remove:function(){if(this.e.style.removeProperty("display"),this.e.removeAttribute("data-tail-select"),this.select.parentElement.removeChild(this.select),this.container)for(var e=this.container.querySelectorAll(selector),t=e.length,i=0;i<t;i++)this.container.removeChild(e[i]);return this},reload:function(){return this.remove(),this.init()},config:function(e,t){return void 0===e?this.con:e in this.con&&(void 0===t?this.con[e]:(this.con[e]=t,this))},on:function(e,t,i){return!(["open","close","change"].indexOf(e)<0||"function"!=typeof t)&&(e in this.events||(this.events[e]=[]),this.events[e].push({cb:t,args:i instanceof Array?i:[]}),this)}},n.prototype={_replaceTypo:function(e){return e.replace("disabled","disable").replace("enabled","enable").replace("selected","select").replace("unselected","unselect")},init:function(){this.length=0,this.selected=[],this.disabled=[],this.items={"#":{}},this.groups={};for(var e=this.select.options.length,t=0;t<e;t++)this.set(this.select.options[t]);return!this.self.con.multiple&&!this.self.con.deselect&&this.selected.length,this},get:function(e,t){if("object"==typeof e&&e.key&&e.value)return e;if(e instanceof Element&&e.tagName&&("OPTION"==e.tagName?("OPTGROUP"==e.parentElement.tagName&&(t=e.parentElement.label),e=e.value||e.innerText):e.hasAttribute("data-key")&&(e.parentElement.hasAttribute("data-group")&&(optgroup=e.parentElement.getAttribute("data-group")),e=e.getAttribute("data-key"))),"string"!=typeof e)return!1;if("string"==typeof t&&"#"!=t){if(!(t in this.groups))return null;var i=this.items[t]}else i=this.items["#"];return e in i?i[e]:null},set:function(e,t){var i=e.value||e.text,s=e.parentElement,n=this.self,l=!1;if("#"==(s="OPTGROUP"==s.tagName?s.label:"#")||s in this.groups){if(i in this.items[s])return!1}else this.items[s]={},this.groups[s]=e.parentElement;if(e.selected=n.con.multiple||n.con.deselect?e.hasAttribute("selected"):e.selected,n.con.multiple&&0<=this.self.con.multiLimit&&this.self.con.multiLimit<=this.selected.length&&(l=!0,e.selected=!1),e.hasAttribute("data-description")){var a=u.createElement("SPAN");a.innerHTML=e.getAttribute("data-description"),e.setAttribute("data-description",a.innerHTML)}return this.items[s][i]={key:i,value:e.text,description:e.getAttribute("data-description")||null,group:s,option:e,optgroup:"#"!=s?this.groups[s]:void 0,selected:e.selected,disabled:e.disabled},(l||e.selected)&&this.handle("select",i,s),e.disabled&&this.handle("disable",i,s),this.length++,t&&this.self.callback.call(this.self,this.items[s][i],"rebuild"),!0},add:function(e,t,i,s,n,l){if(null!=this.get(e,i))return!1;if(!((i=void 0===i?"#":i)in this.groups)){var a=u.createElement("OPTGROUP");a.label=i,this.select.appendChild(a),this.groups[i]=a,this.items[i]={}}(s=void 0!==s&&!!s)&&this.self.con.multiple?0<=this.self.con.multiLimit&&this.self.con.multiLimit<=this.selected.length&&(s=!1):s&&!this.self.con.multiple&&0<this.selected.length&&(o.selected=!1),n=void 0!==n&&!!n;var o=u.createElement("OPTION");return o.value=e,o.selected=s,o.disabled=n,o.innerText=t,"#"==i?this.select.appendChild(o):this.groups[i].appendChild(o),this.set(o,!0)},remove:function(e,t){var i=this.get(e,t);return!!i&&(i.selected&&this.handle("unselect",i),i.disabled&&this.handle("enable",i),i.option.parentElement.removeChild(i.option),delete this.items[i.group][i.key],this.length--,0===Object.keys(this.items[i.group]).length&&(delete this.items[i.group],delete this.groups[i.group]),this.self.callback.call(this.self,i,"rebuild"),!0)},is:function(e,t,i){e=this._replaceTypo(e);var s=this.get(t,i);return!s||["select","unselect","disable","enable"].indexOf(e)<0?null:"disable"==e||"enable"==e?"disable"==e?s.disabled:!s.disabled:("select"==e||"unselect"==e)&&("select"==e?s.selected:!s.selected)},handle:function(e,t,i,s){e=this._replaceTypo(e);var n=this.get(t,i);if(!n||["select","unselect","disable","enable"].indexOf(e)<0)return null;if("disable"==e||"enable"==e)return"disable"!=e||n.option in this.disabled?"disable"==e&&n.option in this.selected&&this.disabled.splice(this.disabled.indexOf(n.option),1):this.disabled.push(n.option),n.disabled="disable"==e,n.option.disabled="disable"==e,this.self.callback.call(this.self,n,e),!0;if(n.disabled||n.option.disabled)return!1;if("select"==e){if(this.self.con.multiple&&0<=this.self.con.multiLimit){if(this.self.con.multiLimit<=this.selected.length)return!1}else if(!this.self.con.multiple)for(var l in this.selected)this.handle("unselect",this.selected[l],void 0,!0);this.selected.indexOf(n.option)<0&&this.selected.push(n.option),n.selected=!0,n.option.selected=!0,n.option.setAttribute("selected","selected")}else if("unselect"==e){if(!this.self.con.multiple&&!this.self.con.deselect&&!0!==s)return!1;this.selected.splice(this.selected.indexOf(n.option),1),n.selected=!1,n.option.selected=!1,n.option.removeAttribute("selected")}return this.self.callback.call(this.self,n,e),!0},finder:function(e,t){if(void 0===this._findLoop){if(e=e.replace(/[\[\]{}()*+?.,^$\\|#-]/g,"\\$&"),"required"==t)var i='<.*?value="('+e+')".*?>';else if("optional"==t||"eitheror"==t)i='<.*?(?:value="('+e+'))?".*?>';else i="<.*?>";i+="([^<>]*("+e+")"+("eitheror"==t?"?":"")+")[^<>]*</option>"}void 0===this._findLoop&&(this._findLoop=!0,this._findRegex=new RegExp(i,"gmi"));for(var s,n,l=this.self.e.innerHTML;null!==this._findRegex.exec(l);)if(n=(l.substr(0,this._findRegex.lastIndex).match(/\<\/option\>/g)||[]).length,null!==(s=this.get(this.self.e.options[n-1])))return s;return delete this._findLoop,delete this._findRegex,!1},find:function(e,t,i){for(var s=[];!1!==(item=this.finder(e,t));)s.push(item);return s},walker:function(e,t){if(void 0!==this._inLoop&&this._inLoop){if(0<this._inItems.length){var i=this._inItems.shift();return this.items[this._inGroup][i]}if(0<this._inGroups.length){for(;0<this._inGroups.length;){var s=this._inGroups.shift(),n=Object.keys(this.items[s]);if(0<n.length)break}return"ASC"==e?n.sort():"DESC"==e?n.sort().reverse():"function"==typeof e&&(n=e.call(this,n)),this._inItems=n,this._inGroup=s,this.walker(null,null)}return delete this._inLoop,delete this._inItems,delete this._inGroup,delete this._inGroups,!1}var l=Object.keys(this.groups);return"ASC"==t?l.sort():"DESC"==t?l.sort().reverse():"function"==typeof t&&l.orderg.call(this),l.unshift("#"),this._inLoop=!0,this._inItems=[],this._inGroups=l,this.walker(e,null)},walk:function(e,t,i){return this.walker(e,group_order)}},l});
